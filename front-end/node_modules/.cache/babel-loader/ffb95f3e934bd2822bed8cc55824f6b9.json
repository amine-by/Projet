{"ast":null,"code":"var _jsxFileName = \"E:\\\\projetpfe\\\\front-end\\\\src\\\\Commandes\\\\Commandes.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport axios from \"axios\";\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper } from \"@material-ui/core\";\nconst useStyles = makeStyles(theme => ({\n  table: {\n    minWidth: 650\n  },\n  formcontrol: {\n    margin: theme.spacing(1)\n  }\n}));\nexport default function Commandes() {\n  const classes = useStyles();\n  const [etat, setEtat] = useState(\"Attente\");\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    setData([]);\n    axios.post(\"http://localhost:4000/commandes/recherche\", {\n      etat\n    }, {\n      headers: {\n        Authorization: \"bearer \" + localStorage.getItem(\"jwt-cookie\")\n      }\n    }).then(resultat => {\n      resultat.data.forEach(r => {\n        setData(d => [...d, {\n          adresse: r.adresse,\n          description: r.description,\n          client: r.client,\n          liste: r.liste,\n          prix: r.prix\n        }]);\n      });\n    });\n  }, [etat]);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(TableContainer, {\n    component: Paper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(Table, {\n    className: classes.table,\n    \"aria-label\": \"simple table\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(TableHead, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(TableRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"Nom\"), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Pr\\xE9nom\"), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"E-mail\"), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"T\\xE9l\\xE9phone\"), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"Liste des Articles\"), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"PrixTotal\"), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Adresse\"), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"Description\"))), React.createElement(TableBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, data.map(d => React.createElement(TableRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, d.client.nom), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, d.client.prenom), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, d.client.email), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, d.client.telephone), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, d.liste.map(l => React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, l.nom, \" x\", l.quantite, \" : \", l.prix * l.quantite, \" DT\"))), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, d.prix, \" DT\"), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, d.adresse), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, d.description)))))));\n}","map":{"version":3,"sources":["E:/projetpfe/front-end/src/Commandes/Commandes.js"],"names":["React","useState","useEffect","makeStyles","axios","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","useStyles","theme","table","minWidth","formcontrol","margin","spacing","Commandes","classes","etat","setEtat","data","setData","post","headers","Authorization","localStorage","getItem","then","resultat","forEach","r","d","adresse","description","client","liste","prix","map","nom","prenom","email","telephone","l","quantite"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport axios from \"axios\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n} from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n  formcontrol: {\r\n    margin: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nexport default function Commandes() {\r\n  const classes = useStyles();\r\n  const [etat, setEtat] = useState(\"Attente\");\r\n  const [data, setData] = useState([]);\r\n  useEffect(() => {\r\n    setData([]);\r\n    axios\r\n      .post(\r\n        \"http://localhost:4000/commandes/recherche\",\r\n        { etat },\r\n        {\r\n          headers: {\r\n            Authorization: \"bearer \" + localStorage.getItem(\"jwt-cookie\"),\r\n          },\r\n        }\r\n      )\r\n      .then((resultat) => {\r\n        resultat.data.forEach((r) => {\r\n          setData((d) => [\r\n            ...d,\r\n            {\r\n              adresse: r.adresse,\r\n              description: r.description,\r\n              client: r.client,\r\n              liste: r.liste,\r\n              prix: r.prix,\r\n            },\r\n          ]);\r\n        });\r\n      });\r\n  }, [etat]);\r\n  return (\r\n    <div>\r\n      <TableContainer component={Paper}>\r\n        <Table className={classes.table} aria-label=\"simple table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Nom</TableCell>\r\n              <TableCell>Prénom</TableCell>\r\n              <TableCell>E-mail</TableCell>\r\n              <TableCell>Téléphone</TableCell>\r\n              <TableCell>Liste des Articles</TableCell>\r\n              <TableCell>PrixTotal</TableCell>\r\n              <TableCell>Adresse</TableCell>\r\n              <TableCell>Description</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {data.map((d) => (\r\n              <TableRow>\r\n                <TableCell>{d.client.nom}</TableCell>\r\n                <TableCell>{d.client.prenom}</TableCell>\r\n                <TableCell>{d.client.email}</TableCell>\r\n                <TableCell>{d.client.telephone}</TableCell>\r\n                <TableCell>\r\n                  {d.liste.map((l) => (\r\n                    <div>\r\n                      {l.nom} x{l.quantite} : {l.prix * l.quantite} DT\r\n                    </div>\r\n                  ))}\r\n                </TableCell>\r\n                <TableCell>{d.prix} DT</TableCell>\r\n                <TableCell>{d.adresse}</TableCell>\r\n                <TableCell>{d.description}</TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}